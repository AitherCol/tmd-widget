function i(o){return new Promise(e=>setTimeout(e,o))}function d(o){return o.donation.name?l(o.donation.name,o.page.blacklisted_words,"*****"):"Аноним"}function s(o){if(!o.donation.message)return{text:"",voice:""};let e=l(o.donation.message,o.page.blacklisted_words,"*****"),r=l(o.donation.message,o.page.blacklisted_words);return o.page.remove_links&&(e=t(e,"[ссылка удалена]"),r=t(r)),{text:e,voice:c(r)}}function l(o,e,r){let a=o;for(const u of e.filter(n=>n.trim()!=="")){const n=new RegExp(u,"gi");a=a.replace(n,r||"")}return a}function t(o,e){const r=/http[s]?:\/\/(?:[a-zA-Z]|[0-9]|[$-_@.&+]|[!*\\(\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+/g;return o.replace(r,e||"")}function c(o){const e=/([\u2700-\u27BF]|[\uE000-\uF8FF]|[\uD83C-\uDBFF\uDC00-\uDFFF]|\u24C2|[\u25A0-\u25FF]|\u2600-\u26FF|\u2B50|[\u2300-\u23FF]|\u3297|\u3299|[\u2049\u203C]|[\u2000-\u200F]|[\u2028-\u202F]|[\u205F-\u2060]|[\u2190-\u21FF])/g;return o.replace(e,"")}const p=(o,e)=>(e||(e="px"),{fontSize:o.size+`${e}`,color:o.color,fontWeight:o.bold?"bold":"normal",fontStyle:o.italic?"italic":"normal",fontDecoration:o.underline?"underline":"none",textTransform:o.transform,textShadow:`0px 0px ${o.shadow_size}px ${o.shadow_color}, 0px 0px ${o.shadow_size+1}px ${o.shadow_color}, 0px 0px ${o.shadow_size+2}px ${o.shadow_color}, 0px 0px ${o.shadow_size+3}px ${o.shadow_color}, 0px 0px ${o.shadow_size+4}px ${o.shadow_color}`});function x(o,e,r){if(e===0)throw new Error("goal_amount не может быть равен 0");const a=o/e*100;let u=parseFloat(a.toFixed(2));return r&&u>100&&(u=100),u}export{s as a,x as c,d as f,p as g,i as s};
